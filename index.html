<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content="Interactive learning platform with AI tutor">
    <meta name="theme-color" content="#6366f1">
    <title>LearnHub - Interactive Learning Platform</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container header-content">
            <h1 class="logo">ğŸš€ LearnHub</h1>
            <div class="header-controls">
                <button class="icon-btn" id="settingsBtn" aria-label="Settings">
                    <span class="icon">âš™ï¸</span>
                </button>
                <button class="icon-btn" id="darkModeToggle" aria-label="Toggle dark mode">
                    <span class="icon">ğŸŒ™</span>
                </button>
                <button class="icon-btn" id="chatToggle" aria-label="Toggle AI chat">
                    <span class="icon">ğŸ’¬</span>
                    <span class="badge">AI</span>
                </button>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="top-progress-bar">
        <div class="progress-fill" id="topProgressFill"></div>
    </div>

    <!-- Main Container -->
    <div class="main-container">
        <!-- Sidebar Navigation -->
        <aside class="sidebar" id="sidebar">
            <nav class="nav">
                <div class="nav-section">
                    <h3 class="nav-title">Your Progress</h3>
                    <div class="user-stats">
                        <div class="stat-card">
                            <div class="stat-icon">âš¡</div>
                            <div class="stat-info">
                                <div class="stat-label">Level</div>
                                <div class="stat-value" id="userLevel">1</div>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">âœ¨</div>
                            <div class="stat-info">
                                <div class="stat-label">XP</div>
                                <div class="stat-value" id="userXP">0</div>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">ğŸ”¥</div>
                            <div class="stat-info">
                                <div class="stat-label">Streak</div>
                                <div class="stat-value" id="userStreak">0</div>
                            </div>
                        </div>
                    </div>
                    <div class="xp-progress">
                        <div class="xp-progress-fill" id="xpProgressFill"></div>
                    </div>
                    <div class="xp-text" id="xpText">0 / 100 XP to next level</div>
                </div>

                <div class="nav-section">
                    <h3 class="nav-title">Achievements</h3>
                    <div class="badges-container" id="badgesContainer">
                        <!-- Badges will be inserted here -->
                    </div>
                </div>

                <div class="nav-section">
                    <h3 class="nav-title">Bookmarks</h3>
                    <ul class="nav-list" id="bookmarksList">
                        <!-- Bookmarked topics will be inserted here -->
                    </ul>
                </div>

                <div class="nav-section">
                    <h3 class="nav-title">My Topics</h3>
                    <ul class="nav-list" id="myTopicsList">
                        <!-- User's learning topics will be inserted here -->
                    </ul>
                </div>

                <div class="nav-section">
                    <h3 class="nav-title">Featured Paths</h3>
                    <ul class="nav-list" id="navList">
                        <!-- Pre-built navigation items will be inserted here -->
                    </ul>
                </div>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="content" id="mainContent">
            <div class="container">
                <!-- Welcome Screen -->
                <section class="welcome-screen" id="welcomeScreen">
                    <div class="welcome-hero">
                        <h1 class="welcome-title animate-fade-in">Welcome to LearnHub! ğŸ‰</h1>
                        <p class="welcome-subtitle animate-fade-in delay-1">Your personal AI-powered learning companion</p>
                        <p class="welcome-text animate-fade-in delay-2">
                            Learn ANYTHING you want - history, science, languages, cooking, coding, and more!
                            Just search for a topic and your AI tutor will create a personalized learning experience.
                        </p>

                        <!-- Universal Search Box -->
                        <div class="search-container animate-fade-in delay-3">
                            <div class="search-box">
                                <input
                                    type="text"
                                    id="topicSearch"
                                    class="search-input"
                                    placeholder="What do you want to learn today? (e.g., 'Ancient Rome', 'Quantum Physics', 'French Cooking')"
                                    onkeydown="if(event.key==='Enter') app.searchTopic()"
                                />
                                <button class="btn btn-primary search-btn" onclick="app.searchTopic()">
                                    <span>Learn This</span>
                                    <span class="icon">ğŸš€</span>
                                </button>
                            </div>

                            <div class="quick-actions">
                                <button class="btn btn-secondary" onclick="app.learnSomethingRandom()">
                                    ğŸ² Surprise Me!
                                </button>
                                <button class="btn btn-secondary" onclick="app.showDailyTopic()">
                                    â­ Topic of the Day
                                </button>
                            </div>

                            <div class="divider-text">OR</div>

                            <!-- File Upload Section -->
                            <div class="upload-section">
                                <div class="upload-dropzone" id="uploadDropzone">
                                    <input
                                        type="file"
                                        id="fileInput"
                                        class="file-input"
                                        accept=".pdf,.txt,.doc,.docx,.jpg,.jpeg,.png"
                                        onchange="app.handleFileUpload(event)"
                                    />
                                    <div class="upload-content">
                                        <div class="upload-icon">ğŸ“„</div>
                                        <p class="upload-title">Upload Your Study Materials</p>
                                        <p class="upload-text">Drop files here or click to browse</p>
                                        <p class="upload-formats">PDF, TXT, DOC, DOCX, Images (JPG, PNG)</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Topic Suggestions -->
                    <div class="inspiration-section animate-fade-in delay-4">
                        <h3 class="inspiration-title">ğŸŒŸ Discover Something New</h3>

                        <!-- Category Filters -->
                        <div class="category-filters">
                            <button class="category-btn active" onclick="app.filterSuggestions('all')">All</button>
                            <button class="category-btn" onclick="app.filterSuggestions('science')">ğŸ”¬ Science</button>
                            <button class="category-btn" onclick="app.filterSuggestions('history')">ğŸ“œ History</button>
                            <button class="category-btn" onclick="app.filterSuggestions('arts')">ğŸ¨ Arts</button>
                            <button class="category-btn" onclick="app.filterSuggestions('tech')">ğŸ’» Tech</button>
                            <button class="category-btn" onclick="app.filterSuggestions('culture')">ğŸŒ Culture</button>
                        </div>

                        <!-- Suggestion Cards -->
                        <div class="suggestion-cards" id="suggestionCards">
                            <!-- Cards will be inserted dynamically -->
                        </div>
                    </div>

                    <!-- Did You Know Section -->
                    <div class="did-you-know-section animate-fade-in delay-5" id="didYouKnowSection">
                        <!-- Will be populated by JS -->
                    </div>

                    <p class="search-hint">Or explore our featured learning paths below</p>

                    <div class="features-grid animate-fade-in delay-6">
                        <div class="feature-card">
                            <div class="feature-icon">ğŸ¤–</div>
                            <h3>AI Tutor</h3>
                            <p>Ask questions anytime and get instant, personalized explanations</p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">ğŸ®</div>
                            <h3>Gamified</h3>
                            <p>Earn XP, unlock badges, and level up as you learn</p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">ğŸ“±</div>
                            <h3>Mobile-First</h3>
                            <p>Learn anywhere, anytime on any device</p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">ğŸ¯</div>
                            <h3>Interactive</h3>
                            <p>Hands-on challenges and real-world scenarios</p>
                        </div>
                    </div>
                </section>

                <!-- Learning Module Container -->
                <section class="module-container hidden" id="moduleContainer">
                    <!-- Module content will be inserted here dynamically -->
                </section>
            </div>
        </main>

        <!-- AI Chat Sidebar -->
        <aside class="chat-sidebar" id="chatSidebar">
            <div class="chat-header">
                <div class="chat-title">
                    <span class="chat-icon">ğŸ¤–</span>
                    <span>AI Tutor</span>
                </div>
                <button class="icon-btn" id="closeChatBtn" aria-label="Close chat">
                    <span class="icon">âœ•</span>
                </button>
            </div>

            <div class="chat-messages" id="chatMessages">
                <div class="chat-message bot-message">
                    <div class="message-avatar">ğŸ¤–</div>
                    <div class="message-content">
                        <p>Hey there! I'm your AI tutor. Ask me anything about what you're learning, and I'll explain it in a way that makes sense to you!</p>
                    </div>
                </div>
            </div>

            <div class="chat-input-container">
                <textarea
                    class="chat-input"
                    id="chatInput"
                    placeholder="Ask me anything..."
                    rows="1"
                ></textarea>
                <button class="btn btn-primary" id="sendChatBtn">
                    <span>Send</span>
                    <span class="icon">ğŸ“¤</span>
                </button>
            </div>
        </aside>
    </div>

    <!-- Mobile Menu Toggle -->
    <button class="mobile-menu-toggle" id="mobileMenuToggle" aria-label="Toggle menu">
        <span class="hamburger"></span>
    </button>

    <!-- Toast Notifications -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- Modal for Achievements -->
    <div class="modal-overlay hidden" id="achievementModal">
        <div class="modal achievement-modal">
            <div class="achievement-content">
                <div class="achievement-icon-large" id="achievementIcon">ğŸ†</div>
                <h2 class="achievement-title">Achievement Unlocked!</h2>
                <h3 class="achievement-name" id="achievementName"></h3>
                <p class="achievement-description" id="achievementDescription"></p>
                <button class="btn btn-primary" onclick="app.closeAchievementModal()">Awesome!</button>
            </div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div class="modal-overlay hidden" id="settingsModal">
        <div class="modal settings-modal">
            <div class="modal-header">
                <h2>âš™ï¸ Settings</h2>
                <button class="modal-close" onclick="app.closeSettings()" aria-label="Close settings">âœ•</button>
            </div>
            <div class="modal-body">
                <div class="settings-section">
                    <h3>ğŸ¤– Claude API Configuration</h3>
                    <p class="settings-description">
                        Enter your Claude API key to enable AI-powered lesson generation and tutoring.
                        <a href="https://console.anthropic.com/" target="_blank" rel="noopener">Get your API key here â†’</a>
                    </p>

                    <div class="form-group">
                        <label for="apiKeyInput">API Key</label>
                        <div class="input-group">
                            <input type="password"
                                   id="apiKeyInput"
                                   class="form-control"
                                   placeholder="sk-ant-api03-..."
                                   autocomplete="off">
                            <button class="btn btn-secondary" id="toggleApiKeyBtn" onclick="app.toggleApiKeyVisibility()">
                                ğŸ‘ï¸
                            </button>
                        </div>
                        <div class="api-key-status" id="apiKeyStatus">
                            <span class="status-indicator"></span>
                            <span class="status-text">No API key configured</span>
                        </div>
                    </div>

                    <div class="settings-actions">
                        <button class="btn btn-primary" onclick="app.saveApiKey()">
                            ğŸ’¾ Save API Key
                        </button>
                        <button class="btn btn-secondary" onclick="app.testApiKey()" id="testApiBtn">
                            ğŸ” Test Connection
                        </button>
                        <button class="btn btn-danger" onclick="app.clearApiKey()">
                            ğŸ—‘ï¸ Clear Key
                        </button>
                    </div>
                </div>

                <div class="settings-section">
                    <h3>â„¹ï¸ About</h3>
                    <p class="settings-description">
                        <strong>LearnHub</strong> - Your AI-powered learning companion<br>
                        Version 1.0.0<br>
                        Made with Claude Code
                    </p>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
